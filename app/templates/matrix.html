{% extends "base.html" %}
{% block title %}Matrice d'Eisenhower{% endblock %}

{% block content %}
<h1 class="text-xl font-bold mb-3">Matrice d'Eisenhower</h1>

<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
	<div class="card">
		<div class="font-semibold mb-2">Q1 â€“ Ã€ faire</div>
		{% if q1|length == 0 %}
		<div class="text-xs text-slate-400">Rien pour lâ€™instant.</div>
		{% else %}
		<ul class="space-y-2 text-sm">
			{% for t in q1 %}
			<li class="border-b border-slate-200/40 pb-2 last:border-b-0">
				<!-- Ligne titre + icÃ´nes de prioritÃ© + badge d'Ã©chÃ©ance alignÃ© Ã  droite -->
				<div class="title-row">
					<!-- Gauche : titre + ğŸ”¥â­ -->
					<div class="title-text font-medium flex items-center gap-2">
						{{ t.title }}
						<span class="flex items-center gap-1">
							{% if t.urgent %}
							<span class="prio-icon prio-urgent" title="Urgent">ğŸ”¥</span>
							{% endif %}
							{% if t.important %}
							<span class="prio-icon prio-important" title="Important">â­</span>
							{% endif %}
							{% if not t.urgent and not t.important %}
							<span class="prio-none">â€¢</span>
							{% endif %}
						</span>
					</div>

					<!-- Droite : badge d'Ã©chÃ©ance -->
					<div class="flex items-center gap-1">
						{% if t.due_status == 'overdue' %}
						<span class="badge badge-due-overdue" title="En retard">Retard</span>
						{% elif t.due_status == 'today' %}
						<span class="badge badge-due-today" title="Ã‰chÃ©ance aujourd'hui">Auj.</span>
						{% elif t.due_status == 'soon' %}
						<span class="badge badge-due-soon" title="Ã‰chÃ©ance cette semaine">7 j</span>
						{% endif %}
					</div>
				</div>

				<!-- Ligne infos : date + statut -->
				<div class="text-xs text-slate-500 flex items-center gap-2 mt-1">
					{% if t.due_date %}
					<span class="inline-flex items-center gap-1">
						<span>ğŸ“…</span> <span>{{ t.due_date }}</span>
					</span>
					{% else %}
					<span>Sans Ã©chÃ©ance</span>
					{% endif %}
					{% if t.status == "done" %}
					<span class="badge badge-done">Fait</span>
					{% endif %}
				</div>
			</li>
			{% endfor %}
		</ul>
		{% endif %}
	</div>

	<div class="card">
		<div class="font-semibold mb-2">Q2 â€“ Planifier</div>
		{% if q2|length == 0 %}
		<div class="text-xs text-slate-400">Rien pour lâ€™instant.</div>
		{% else %}
		<ul class="space-y-2 text-sm">
			{% for t in q2 %}
			<li class="border-b border-slate-200/40 pb-2 last:border-b-0">
				<!-- Ligne titre + icÃ´nes de prioritÃ© + badge d'Ã©chÃ©ance alignÃ© Ã  droite -->
				<div class="title-row">
					<!-- Gauche : titre + ğŸ”¥â­ -->
					<div class="title-text font-medium flex items-center gap-2">
						{{ t.title }}
						<span class="flex items-center gap-1">
							{% if t.urgent %}
							<span class="prio-icon prio-urgent" title="Urgent">ğŸ”¥</span>
							{% endif %}
							{% if t.important %}
							<span class="prio-icon prio-important" title="Important">â­</span>
							{% endif %}
							{% if not t.urgent and not t.important %}
							<span class="prio-none">â€¢</span>
							{% endif %}
						</span>
					</div>

					<!-- Droite : badge d'Ã©chÃ©ance -->
					<div class="flex items-center gap-1">
						{% if t.due_status == 'overdue' %}
						<span class="badge badge-due-overdue" title="En retard">Retard</span>
						{% elif t.due_status == 'today' %}
						<span class="badge badge-due-today" title="Ã‰chÃ©ance aujourd'hui">Auj.</span>
						{% elif t.due_status == 'soon' %}
						<span class="badge badge-due-soon" title="Ã‰chÃ©ance cette semaine">7 j</span>
						{% endif %}
					</div>
				</div>

				<!-- Ligne infos : date + statut -->
				<div class="text-xs text-slate-500 flex items-center gap-2 mt-1">
					{% if t.due_date %}
					<span class="inline-flex items-center gap-1">
						<span>ğŸ“…</span> <span>{{ t.due_date }}</span>
					</span>
					{% else %}
					<span>Sans Ã©chÃ©ance</span>
					{% endif %}
					{% if t.status == "done" %}
					<span class="badge badge-done">Fait</span>
					{% endif %}
				</div>
			</li>
			{% endfor %}
		</ul>
		{% endif %}
	</div>

	<div class="card">
		<div class="font-semibold mb-2">Q3 â€“ DÃ©lÃ©guer</div>
		{% if q3|length == 0 %}
		<div class="text-xs text-slate-400">Rien pour lâ€™instant.</div>
		{% else %}
		<ul class="space-y-2 text-sm">
			{% for t in q3 %}
			<li class="border-b border-slate-200/40 pb-2 last:border-b-0">
				<!-- Ligne titre + icÃ´nes de prioritÃ© + badge d'Ã©chÃ©ance alignÃ© Ã  droite -->
				<div class="title-row">
					<!-- Gauche : titre + ğŸ”¥â­ -->
					<div class="title-text font-medium flex items-center gap-2">
						{{ t.title }}
						<span class="flex items-center gap-1">
							{% if t.urgent %}
							<span class="prio-icon prio-urgent" title="Urgent">ğŸ”¥</span>
							{% endif %}
							{% if t.important %}
							<span class="prio-icon prio-important" title="Important">â­</span>
							{% endif %}
							{% if not t.urgent and not t.important %}
							<span class="prio-none">â€¢</span>
							{% endif %}
						</span>
					</div>

					<!-- Droite : badge d'Ã©chÃ©ance -->
					<div class="flex items-center gap-1">
						{% if t.due_status == 'overdue' %}
						<span class="badge badge-due-overdue" title="En retard">Retard</span>
						{% elif t.due_status == 'today' %}
						<span class="badge badge-due-today" title="Ã‰chÃ©ance aujourd'hui">Auj.</span>
						{% elif t.due_status == 'soon' %}
						<span class="badge badge-due-soon" title="Ã‰chÃ©ance cette semaine">7 j</span>
						{% endif %}
					</div>
				</div>

				<!-- Ligne infos : date + statut -->
				<div class="text-xs text-slate-500 flex items-center gap-2 mt-1">
					{% if t.due_date %}
					<span class="inline-flex items-center gap-1">
						<span>ğŸ“…</span> <span>{{ t.due_date }}</span>
					</span>
					{% else %}
					<span>Sans Ã©chÃ©ance</span>
					{% endif %}
					{% if t.status == "done" %}
					<span class="badge badge-done">Fait</span>
					{% endif %}
				</div>
			</li>
			{% endfor %}
		</ul>
		{% endif %}
	</div>

	<div class="card">
		<div class="font-semibold mb-2">Q4 â€“ Ã‰liminer</div>
		{% if q4|length == 0 %}
		<div class="text-xs text-slate-400">Rien pour lâ€™instant.</div>
		{% else %}
		<ul class="space-y-2 text-sm">
			{% for t in q4 %}
			<li class="border-b border-slate-200/40 pb-2 last:border-b-0">
				<!-- Ligne titre + icÃ´nes de prioritÃ© + badge d'Ã©chÃ©ance alignÃ© Ã  droite -->
				<div class="title-row">
					<!-- Gauche : titre + ğŸ”¥â­ -->
					<div class="title-text font-medium flex items-center gap-2">
						{{ t.title }}
						<span class="flex items-center gap-1">
							{% if t.urgent %}
							<span class="prio-icon prio-urgent" title="Urgent">ğŸ”¥</span>
							{% endif %}
							{% if t.important %}
							<span class="prio-icon prio-important" title="Important">â­</span>
							{% endif %}
							{% if not t.urgent and not t.important %}
							<span class="prio-none">â€¢</span>
							{% endif %}
						</span>
					</div>

					<!-- Droite : badge d'Ã©chÃ©ance -->
					<div class="flex items-center gap-1">
						{% if t.due_status == 'overdue' %}
						<span class="badge badge-due-overdue" title="En retard">Retard</span>
						{% elif t.due_status == 'today' %}
						<span class="badge badge-due-today" title="Ã‰chÃ©ance aujourd'hui">Auj.</span>
						{% elif t.due_status == 'soon' %}
						<span class="badge badge-due-soon" title="Ã‰chÃ©ance cette semaine">7 j</span>
						{% endif %}
					</div>
				</div>

				<!-- Ligne infos : date + statut -->
				<div class="text-xs text-slate-500 flex items-center gap-2 mt-1">
					{% if t.due_date %}
					<span class="inline-flex items-center gap-1">
						<span>ğŸ“…</span> <span>{{ t.due_date }}</span>
					</span>
					{% else %}
					<span>Sans Ã©chÃ©ance</span>
					{% endif %}
					{% if t.status == "done" %}
					<span class="badge badge-done">Fait</span>
					{% endif %}
				</div>
			</li>
			{% endfor %}
		</ul>
		{% endif %}
	</div>

</div>
{% endblock %}
